h=1;
x = 0.3:0.01:(2*h+0.01);
y = (-((h/2)^2-(x-h/2).^2).^3)*2+1./x-1/h;
yp = (-6.*h^3.*x.^4+24.*h^2.*x.^5-30.*h.*x.^6+12.*x.^7-1)./x.^2;
plot(x,y,x,yp);